# 6/7（木） 18:30 Arch ミーティング

## 出席

* macchanさん
* soraさん
* itochan
* sodium
* kumasan
* skyline
* tatsu
* gentum

## 欠席

* aky
* mihiro

## Term進捗報告

### tatsu

[現状報告ドキュメント](https://github.com/dooooooooinggggg/Term2018/blob/master/note/report_180607.md)

* 先々週に結局コンパイラはやめることに
* ハイパーバイザー関連の方向性に変更する
  * [ハイパーバイザの作り方](http://syuu1228.github.io/howto_implement_hypervisor/) を読み始めた
* 何を作るか，何を問題とするかは決まっていない

#### Feedback

* macchan: 具体的に"セキュリティ監視系"で解決したい問題はあるのか?
* tatsu: 特にはない
* macchan: なぜコンパイラは諦めてしまったのか?
* tatsu: パーサーとか構文解析とかは別にやりたいわけではないと思った
* macchan: そもそもどうしてコンパイラを始めたのだったっけ
* tatsu: 偶然，趣味でLISPをやっていて，Schemeの言語仕様が小さいから実装したら勉強になるかもという流れ
* macchan: LLVM IR とかをやりたいという話は?
* tatsu: それもコンパイラをやるとしたら，出力先にしたいという話だった
* macchan: せっかく，ここまでWIPでアセンブリ言語とか低レイヤーよりのことをやってたから
そのあたりのトピックを深められたらいいよね
* macchan: 選択肢にあげているものの中なら，KVMが近いかもね
* sora: セキュリティの話しで，システムコールをタップして監視するとかは確かにあるけど，
それをKVMでやるのはあまり聞かないかも
* sora: 1つ問題なのは，KVMではあまりモニタできない．それが理由でXenとかQEMUの方を使ってる人もいる．
Xenならなんでもできる．Google のProject zeroがやってるのはまさにそういうこと．
やっぱり何か1つ完結したアプリケーションを想定した方がいい．
* sora: 1つアイディアだけど，自分がやってるプロジェクトを使ってネットワークPCI経由でタッピングするとかどう．
* macchan: soraさんが作ったのは，PCIバス上にFPGAボードが入っていて，自由にPCIバス経由でメモリを読み書きできるもの．soraさんのツールの上に，カーネルの重要なメモリ部分をハードウェア的に監視する
* sora: Google が QEMUとかXenでやってるのは全てのインストラクションをタップしてるからめちゃくちゃ遅くなる．
ハードウェア的にできたら速くなるかもしれない．
* macchan: 本当にカーネルパニックになった状態でも，PCIe経由でトラブルシューティングとかできるようになる可能性
* sora: メモリが全部ダンプできる．悪用したらやばい
* sora: [libvmi](http://libvmi.com/) をまず調べて．セキュリティ業界の標準の物理メモリを外から監視するためのライブラリ．Googleが作ってるツールもこれをベースにしてる．
* macchan: kernelは最初にロードされるから見つけられるかもだけど，その他の部分はMMUを挟んでどこに重要な情報があるのか探すのが難しいかも．

...

* tatsu: とりあえずどこから始めればいいか
* sora: OSの構造を知ること
* macchan: soraさんのツールを理解して，解決したい問題を理解する: 外からネットワークを介して物理メモリを監視する
* sora: libvmi をまずは使ってみて，ドライバーとしてsoft-pciを作る．かっこつけるなら，libvmiが Virtual Machine Introspectionだから，Physical Machine Introspectionとか


### skyline

[現状報告ドキュメント](https://github.com/yfskyline/Term2018/blob/master/note/abst.md)

* 最近クラウド上に立てたサーバでゲームをしている人が多い
* AWSで立てたGPUインスタンスを使ってローカルの非力なノートPCで遊ぶ
* ゲームをするときに遅延が気になるので，レイテンシーを小さくしたい
* まずどうやって計測するかというのを調べていた

#### Feedback

* sodium: 回線にすごく依存しそう
* sora: どちらかというとエンコード・デコードの問題かもね．
* sora: コントローラの処理を送る方向もある
* macchan: レイテンシーを計測するだけならすぐできる．測ってどうするのか?
* skyline: 最終的には速くしたい．測ってどこが遅いかわかってから改善できる部分があるかどうか．
ただほとんどのソフトがクローズドだからどうしようか．
* skyline: リモートデスクトップでも何かできるか
* macchan: リモートデスクトップは画面全体のエンコードデコードはしてないからむしろ速い．
ゲームの話とはやや違う．
* sora: アーキテクチャの話ではなくてサービスの話になってしまうと研究としてはなかなか難しいところがある．
何か仮説があって計測するならいいが，計測したら何か問題がが見つかるという考えはよくない．
* macchan: おそらく調べてみても，よくできてるな，で終わる可能性はある
* sora: 関連だとWebGPUとか
* macchan: やっぱりゲーム業界は高速化とかレイテンシー削減にかなりのリソースを注いでいるから，
自分が考えたシステムを提案してもなかなか難しい

(...議論続く)
