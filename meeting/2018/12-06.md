

# 卒論生
## aky
PDFが吐き出されるようになった！進捗！

仮説がわからない。
マイコン向けのコードは専用のツールで書いてたものを、WebAssembryを使うことで、改善できたら嬉しい。

リッチなマシンと、弱い端末で同じバイナリを動かしたいか、という問題。
同じライブラリを使えるとか、同じ言語で使えるとかは嬉しいが、実行ファイル自体が同じであることに余り価値を感じない。
それが同一のバイナリが動かせないからというのが理由だとは思わない。

もし合わせるのであれば、リッチなマシンでもプアなマシンで動くようにコードを書かなくてはいけなくなる。
500kのESPのメモリを仮想メモリのキャッシュとして考えるという方向性もある。

akyが解決しようと取り組んだ問題は、単一のバイナリを使うということだったが、疑問を感じるようになった。
ポスターでもゴールを2つ書いていたことに違和感を感じていた。

もう一つの目標が、OSとかを動かせないような環境で、ソフトウェアの書き換えを行わずとも実行内容を変えられるようにしたい。
WebAssembryのバイナリ自体はどこでも動くように作る。

世の中で実際に使うにはそのまま使うことはできない。
ESPをIoTとして使うときは、一つの機能に特化したソフトウェアを作る。それは一度書いたらアップデートをするにはもう一度書き込みをする必要がある。
それがダイナミックに変更できるようになる。、ことを目的にしたい。

今の問題をakyの提案する手法では解決できず、akyの想定する環境では解決できる、ということになる。
今この場で動いているものは置き換えることができない。
それは、ダイナミックなアップデートができるようになったわけではなく、akyの提唱する方法を使うとできる、というだけで、それは、わざわざ変える意義、つまりアップデートをする必要性・需要があるとは思えない。

ESPが製品に組み込まれると、簡単にアップデートできない。
アップデート対策をされていて、実行中に書き換えてアップデートするみたいなソフトウェア的な対策をしてあったりする。
over the airで書き換えをしている。

イメージだと、一度製品となって出荷されたものは、アップデートしにくいのではないかと考えている。
→普通ブートローダの部分は中でやっていて、本当の中央の部分以外のファイルシステムが入っているROMを書き換えることでいつでもアップデートできるように、ルーターとか携帯とかもそうしている。
逆に、akyのWebAssembryが動くからといってアップデートした時に、今のコードをダイナミックにアップデートできるわけではない。
akyの方法は今の方法よりどのように良くなるのか。
一度書き換えて、サービスを一度止めて再起動しないといけない。

普通のソフトウェアのアップデートに比べたメリットが感じられない。
akyのコードをみると、WebAssembryをインタプリタで実装しているだけにしか見えない。
評価をとるには実装をして示す必要があるが、どいういう手法がアイデアになるのか。
エンドポイントにバイナリを置いておいたら、どこかで動いているESPが定期的にフェッチして更新があったらそっちに書き換える。

それは、普通。

例えば、スマートLED。そういうのもアップデートしているのか。
イメージだと一回買ってさしたらそのあとは勝手にアップデートしている印象はない。
詳しくはわからない。

技術的には可能。テレビなどのアップデートと同じように、スマートライトも勝手にアップデートすることができる。
ライトの使用が一時的にできなくなるから、していないのか、大してアップデートする内容もないからやっていないのかはわからない。

それにHTTPを使うのではないか。
そこは重要じゃない。


スマートLEDがあって、従来通りの手法で、アップデートがあったら更新するようなものがあったとして、
そのソフトウェアをかくには、アップデート部分も含めてゼロから作らなければならないのか。

テレビは起動時に聞いてくる。製造者が用意している。

ネットブートに近いような気がする。
ディスクレスで実態をローカルに持たないみたいな世界観。
そのやり方がWebAssembryに近いのであれば、TFTPブートがブラウザでのやり方に近いのであれば、WebAssembryを持ってくるのが向いていると言えるのではないか。

バイナリのイメージは一つのバイナリのイメージだと思っていた。
HTMLのように、分散している。


今年の卒業に間に合うのか問題。
バイナリだから再計算も大変。

IoTデバイスでWebAssembryが動くという目標、
一つのモジュールがばらけている状態を実現するという目標、
前者の方が全然簡単に実装することができると思う。
後者は、厳しい気がする。

重要な使命は、今期卒業することで、実装で世の中を実際によくするよりも、終わらせることが大切。

ARMのマシンのエミュレーション、そのペリフェラルのエミュレーションなどもしなくてはならず、規模が大きくなさすぎる。
JVMのサブセットでも仕様的に満たすのが厳しそうなので、WebAssembryだったら実行できるのではないかと思う。

舞い込んで、インタプリタで実行する、仮想メモリも可能だと考えると、WebAssembryは適当な大きさの仕様な気がする。
比較相手は、JVMとかARMとかのエミュレーションになる。

他の手法と比較して、マイコンだと制約が厳しいので、それをどうにかする。
先ほどのものだと、実装が異常に苦しくて実際に使われるかもわからない。

単一のバイナリが動くというのが、PCでもESPでもという意味でいくのか、ESPのような組み込み的なものに絞るのが良いのか。
IoT端末に絞るのが良さそう。
ARMはもっとリッチなものもあるから、そこは自分で定義する、プアなイメージになるように定義する。
一般的なPCでも使っているようなバイナリを動かすという話に持っていった方がいい気がする。
PointはJavaでは動かなかったという方向に持っていく必要がある。

本研究の想定する環境、というものを1章とか2章に、具体的なハードウェアのスペックとかの詳細を書いておいて、
それ以外は想定していないという、世界観を書くのが論文らしいしベター。
BとかMの場合は、その世界観を作りたいなら作って〜みたいなスタンスになる。
そこで、ターゲットがプアなCPUとか言えば大丈夫。

関連研究としては、Javaとかもっとマイコン向けで同一バイナリが動くようなものやCPUエミュレータとかになると思われる。

仮説としては、プアなマイコンでも、WAのようなものを動かすk遠ができる。
インストラクションセットレベルでWAはここが優れているみたいな話になる気もする。

関連研究で何が比較対象になるのかということを確証があったら、
その次の章で考察を行う。自分の想定した環境では、WAがベターである、次の章が設計、その次の章が実装みたいな方向で進めると、
綺麗なチャプター分けになっているような気がする。

評価に関わってくるので最初の方に関連研究などを入れて、JVMとか書いておくと良いと考えられる。
CPUエミュレータはCPUのニーモニックがたくさんあるので、IOのエミュレーションもすごく大変。
JAVAはそこらへんが楽だが、もっと重い気がする。

WAの説明は3章でも良い。
卒論だからでかく書いて良い。
最後で良い。

CPUエミュレータでやるのはこのような問題があって、Javaはこのような問題があるが、WAはここがベター、みたいな話をするときに書くと良い。

WAの仕様は書く。

akyが説明しやすい順番で良い。
関連研究は最初に入れる場所は説明のしやすさ、読者の理解で疑問が起きにくいような順番で書くのが良い。

証明したいものと比較するものがわからない。
証明したいものがないと比較するものも探せない。
それがわかるようになってきた。

JVMの仕様とか勉強する必要があるか。
YES。




## Sodium
進捗はよくない。
環境構築をして、Texをやって、章立てに関しては、前回のを踏襲しながら、説明を増やすような感じで良い。
ソープのものを踏襲する。

パケットのプロセッシングはできる状態にならなくてはならない。
シミュレーションで、プロセッシングして、スループットをシミュレーションで見るところがゴールになると思う。

何をしたいかを決めてほしい。
何を実現したくて、これとこれとこれがあればそれを実現できるよ。みたいな。

L3のハードウェアのスイッチングで最低限TTLの減算とかが必要とか、それだけで語れるわけではない。
それらが実装されていて、
一応、L3スイッチも勉強して、入ってきたパケットのIPヘッダを見て、かつ、MACとIPの紐付け、ルーティングテーブルの管理があって、
それを全部やるとFPGA一つに収良い。
ソフトウェアでほぼ全ての挙動を決められるスイッチはあまりいないと思って、一応10G4ポートで最大のスループットは20Gbit/secあれば流させるはず。

もしかしたら40Gに届かないかもしれない。
それも明らかにすれば良い。それが設計のミスなのか実装能力の問題なのか。それを特定する。
それが物理的に無理なのかも。
かっこいい結果を残すのではなく、新しいことを明らかにすることが大切。

あと2週間の中でFPGAの実装を進めるのは危ない。
論文を進めることを優先する。

ブロック図までは作ってある。
処理的にはシリアルにCPUを縦につないで処理をさせて、処理の時間を稼がないとL2のスイッチは7クロックでは終わらない。
シミュレーションでやるのであれば、FPGAのクロック速度は好きなようにできる。
7サイクルというのは今ある世代遅れのFPGAの場合である。
なので、現在ある500Mのものだとこれだけできるみたいな、方向でやっていくのが良いと思う。
キャムにアクセスするの時間がかかるのと、その管理が必要なので、細かくバイナリを書いているわけではないから確定ではないが、
キャムの管理と、キャムに行って取ってくる間、最終的にその頭を取ってくるという3つなので、
大きなFPGAならいけるのではないかと考えている。


10Gとか100Gとかになってくると、パイプライン化して、パケットの前半部分を処理するコアと中盤を処理するコアと後半を処理するコアでパイプライン化することで、高速に処理ができるのではないかと考えている。

なぜそれをCPUでやる必要があるのか。
L2スイッチみたいにスタンドアロンで動くものではなく、ソフトウェアを自由に書き換えることができるので、
ソフトウェアを書き換えられることにより、他のコンピュータからプログラムを書き換えることによって、処理の特性とか、処理の内容から全て書き換えることができるというのは面白いと思う。
全てがソフトウェアディファインドになる。
機能を削ってレイテンシを削る、みたいなハードウェアで一度作ると難しいようなことも、ソフトウェアだとそれをバイパスするようなコードを書く。みたいな。

具体例は考えていなかった。
最近の新しいプロトコルとかの対応とかもある。
DPDKも使用する人によって目的が違う。

もうちょっとBPFとかEBPF、プロセッシングの仮想のCPUの中でやるみたいなことをしてくれると、本当にパケット処理が必要な最前線にあるなということがわかる。
ちょっと追いつけるように頑張った方が良いと思う。
ソープからの進捗がなさすぎる。
ライバルが誰なのかを適切に見えているか。
ライバルはDPDKのようなもの。
DPDKをきちんと理解していない。
DPDKの中のこういうアーキテクチャをこう改善するというのが正しい。
DPDKとか言っている時点で素人感がある。



## U-dory
PDFの見える化を促進しております。
自分でストーリーは言えているから、想定環境を定義することが大切。
仮にマイクが何個あって、その空間が何メートルだとして、これを実現したいというところから、
スペックに落とし込んでいく。
想定環境をエイヤで決めてみる。
1章の中とかでかっちり決められると良い。

〜〜〜という条件では、想定環境の中で評価をとることが出来る。

100歩先にある世界観に対して、自分は2歩進めることができた、というのは十分研究になる。
それを洗い出してみる必要がある。

書くことがわからなくなったら、関連研究の章に手を付ける。
今調べたことを文章化していく。

章立てはChikeさんのを参考にする。

序論で、IP化があって、それを個人まで進めたい。

設計の前の章で、他の手段を列挙する。だけど、要件として出てくるのは、インターおペーラビリティみたいな話が出てくる。
仕様がオープンになることが大切みたいな。

オープンソースであるという言い方、拡張性という言い方、色々ある。
関連研究の章は2章とかになったりする。

とりあえず書いてくれ。

ライバルはあまりいない。全く一緒みたいな人はあまりいない。
達成した世界観に対してその技術はどのような価値があるのか、という視点が大切。
設定に対して、OKだったダメだった、みたいなところが終着点になるのでは。

解決できたかどうかが指標になる。

他の無線で飛ばしている研究、何ホップできるか、ドロップ率もどんどん増えていくので。
今日語ったことを書き下すところから始めよう。


## tatsu
advent calendarを書いたよ。


## skyline
頑張る

## kumasan
動物将棋をやりたい。
GPU使う？
従来のコンピュータ将棋の評価が曖昧だが、
動物将棋は完全解析されているので、コンピュータ将棋の手法が本当に良いものなのかを確かめて、
今ある方法を改善することを考える。
探索部はノーマルのアルファべータ法を使う
なかなかデータを取るのが難しい。
来週のRG講義をやるので、そこで動物将棋を提案する。
もうちょっと他の言語が良ければ、そこらへんは来週、AdventCalendarに動物将棋をかく。


## nyatsume
先週のはじめの方にRiverさんに誘われてインターネットカンファレンスに行ってきた。
aomさんに会った。
floemというネットワークカードのオフローディングの話を調べている。

WIPはコントローラのデモをやりたい。
BPF4とかについて調べていた。
そもそもBPFはなんなのかを調べていた。
今回は実装はまちまちで、自分が何をやっているのかしっかり説明できるようにインプットを集中的にやりたいと考えている。


## superchan
動物将棋！
進歩している！
あとは、成れるようになった。プロモート実装した！

人間が対局できるようになりたい。




説明するための図を先にどんどん書いていると、ページ数が稼げるYO！
仮綴は全てのページがなんかで埋まっている状態が必要。



# 来週Agenda
- 話せる人は話す、という方向

